/*
 * Ignite Plugin CSS Variables
 * Maps Obsidian theme variables to ignite-prefixed tokens
 * This enables automatic light/dark theme support
 */

.ignite-view-container {
  /* === BACKGROUNDS === */
  --ignite-bg: var(--background-primary);
  --ignite-bg-secondary: var(--background-secondary);
  --ignite-bg-card: var(--background-secondary);
  --ignite-bg-hover: var(--background-modifier-hover);

  /* === TEXT === */
  --ignite-text: var(--text-normal);
  --ignite-text-muted: var(--text-muted);
  --ignite-text-faint: var(--text-faint);
  --ignite-text-on-accent: var(--text-on-accent);

  /* === ACCENT (uses user's accent color) === */
  --ignite-accent: var(--interactive-accent);
  --ignite-accent-hover: var(--interactive-accent-hover);

  /* === STATUS COLORS === */
  --ignite-success: var(--color-green);
  --ignite-warning: var(--color-yellow);
  --ignite-error: var(--color-red);
  --ignite-info: var(--color-blue);

  /* === BORDERS === */
  --ignite-border: var(--background-modifier-border);
  --ignite-border-focus: var(--interactive-accent);

  /* === INPUTS === */
  --ignite-input-bg: var(--background-modifier-form-field);

  /* === SPACING (4px base grid) === */
  --ignite-space-1: 4px;
  --ignite-space-2: 8px;
  --ignite-space-3: 12px;
  --ignite-space-4: 16px;
  --ignite-space-5: 20px;
  --ignite-space-6: 24px;
  --ignite-space-8: 32px;

  /* === TYPOGRAPHY === */
  --ignite-font-ui: var(--font-interface);
  --ignite-font-size-xs: var(--font-ui-smaller);
  --ignite-font-size-sm: var(--font-ui-small);
  --ignite-font-size-base: var(--font-ui-medium);
  --ignite-font-size-lg: var(--font-ui-large);

  /* === RADIUS === */
  --ignite-radius-sm: 4px;
  --ignite-radius-md: 6px;
  --ignite-radius-lg: 8px;
  --ignite-radius-full: 9999px;

  /* === SHADOWS === */
  --ignite-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --ignite-shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);

  /* === TRANSITIONS === */
  --ignite-transition-fast: 100ms ease-out;
  --ignite-transition-normal: 150ms ease-out;
  --ignite-transition-slow: 200ms ease-out;
}

/*
 * Base styles for the Ignite plugin
 */

.ignite-view-container {
  width: 100%;
  height: 100%;
  font-family: var(--ignite-font-ui);
  font-size: var(--ignite-font-size-base);
  color: var(--ignite-text);
  background-color: var(--ignite-bg);
  overflow: hidden;
}

/* Reset for plugin container */
.ignite-view-container * {
  box-sizing: border-box;
}

.ignite-view-container button {
  font-family: inherit;
  cursor: var(--cursor);
}

/* Loading state */
.ignite-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: var(--ignite-text-muted);
  font-size: var(--ignite-font-size-sm);
}

/* === BUTTON COMPONENT === */
.ignite-button {
  padding: var(--ignite-space-2) var(--ignite-space-4);
  border-radius: var(--ignite-radius-md);
  font-size: var(--ignite-font-size-base);
  font-weight: 500;
  border: none;
  cursor: pointer;
  transition: all var(--ignite-transition-fast);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--ignite-space-2);
}

.ignite-button:hover {
  opacity: 0.9;
}

.ignite-button:active {
  transform: scale(0.98);
}

.ignite-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.ignite-button-primary {
  background-color: var(--ignite-accent);
  color: var(--ignite-text-on-accent);
}

.ignite-button-primary:hover {
  background-color: var(--ignite-accent-hover);
}

.ignite-button-secondary {
  background-color: var(--ignite-bg-secondary);
  color: var(--ignite-text);
  border: 1px solid var(--ignite-border);
}

.ignite-button-secondary:hover {
  background-color: var(--ignite-bg-hover);
}

.ignite-button-danger {
  background-color: var(--ignite-error);
  color: var(--ignite-text-on-accent);
}

.ignite-button-full-width {
  width: 100%;
}

/* === CARD COMPONENT === */
.ignite-card {
  background-color: var(--ignite-bg-card);
  border: 1px solid var(--ignite-border);
  border-radius: var(--ignite-radius-md);
  padding: var(--ignite-space-4);
  transition: all var(--ignite-transition-fast);
}

.ignite-card-interactive {
  cursor: pointer;
}

.ignite-card-interactive:hover {
  background-color: var(--ignite-bg-hover);
  border-color: var(--ignite-accent);
}

/* === INPUT COMPONENT === */
.ignite-input-container {
  display: flex;
  flex-direction: column;
  gap: var(--ignite-space-1);
}

.ignite-input-full-width {
  width: 100%;
}

.ignite-input-label {
  font-size: var(--ignite-font-size-sm);
  font-weight: 500;
  color: var(--ignite-text);
}

.ignite-input {
  padding: var(--ignite-space-2) var(--ignite-space-3);
  background-color: var(--ignite-input-bg);
  border: 1px solid var(--ignite-border);
  border-radius: var(--ignite-radius-md);
  font-size: var(--ignite-font-size-base);
  color: var(--ignite-text);
  transition: border-color var(--ignite-transition-fast);
}

.ignite-input:focus {
  outline: none;
  border-color: var(--ignite-border-focus);
}

.ignite-input-error {
  border-color: var(--ignite-error);
}

.ignite-input-error-message {
  font-size: var(--ignite-font-size-sm);
  color: var(--ignite-error);
}

/* === PROGRESS BAR COMPONENT === */
.ignite-progress-container {
  display: flex;
  flex-direction: column;
  gap: var(--ignite-space-2);
}

.ignite-progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--ignite-font-size-sm);
}

.ignite-progress-label {
  color: var(--ignite-text);
  font-weight: 500;
}

.ignite-progress-percentage {
  color: var(--ignite-text-muted);
}

.ignite-progress-bar {
  width: 100%;
  height: 8px;
  background-color: var(--ignite-bg-secondary);
  border-radius: var(--ignite-radius-full);
  overflow: hidden;
}

.ignite-progress-fill {
  height: 100%;
  background-color: var(--ignite-accent);
  border-radius: var(--ignite-radius-full);
  transition: width var(--ignite-transition-normal);
}

/* === LOADING SPINNER COMPONENT === */
.ignite-spinner {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.ignite-spinner-ring {
  border: 2px solid var(--ignite-border);
  border-top-color: var(--ignite-accent);
  border-radius: 50%;
  animation: ignite-spin 0.8s linear infinite;
}

.ignite-spinner-sm .ignite-spinner-ring {
  width: 16px;
  height: 16px;
}

.ignite-spinner-md .ignite-spinner-ring {
  width: 24px;
  height: 24px;
}

.ignite-spinner-lg .ignite-spinner-ring {
  width: 32px;
  height: 32px;
}

.ignite-spinner-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

@keyframes ignite-spin {
  to {
    transform: rotate(360deg);
  }
}

/* === GOAL CARD COMPONENT === */
.ignite-goal-card {
  display: flex;
  flex-direction: column;
  gap: var(--ignite-space-3);
}

.ignite-goal-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--ignite-space-3);
}

.ignite-goal-card-title {
  margin: 0;
  font-size: var(--ignite-font-size-lg);
  font-weight: 600;
  color: var(--ignite-text);
}

.ignite-goal-card-badge {
  padding: var(--ignite-space-1) var(--ignite-space-2);
  font-size: var(--ignite-font-size-xs);
  font-weight: 500;
  border-radius: var(--ignite-radius-sm);
  white-space: nowrap;
}

.ignite-goal-card-badge-completed {
  background-color: var(--ignite-success);
  color: var(--ignite-text-on-accent);
}

.ignite-goal-card-description {
  margin: 0;
  font-size: var(--ignite-font-size-sm);
  color: var(--ignite-text-muted);
  line-height: 1.5;
}

.ignite-goal-card-meta {
  display: flex;
  gap: var(--ignite-space-4);
  font-size: var(--ignite-font-size-sm);
  color: var(--ignite-text-muted);
}

.ignite-goal-card-meta-label {
  font-weight: 500;
  color: var(--ignite-text);
}

/* === MILESTONE LIST COMPONENT === */
.ignite-milestone-list {
  width: 100%;
}

.ignite-milestone-list-empty {
  margin: 0;
  padding: var(--ignite-space-4);
  text-align: center;
  color: var(--ignite-text-muted);
  font-size: var(--ignite-font-size-sm);
}

.ignite-milestone-list-items {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: var(--ignite-space-2);
}

.ignite-milestone-item {
  display: flex;
  align-items: flex-start;
}

.ignite-milestone-label {
  display: flex;
  align-items: flex-start;
  gap: var(--ignite-space-2);
  cursor: pointer;
  width: 100%;
}

.ignite-milestone-checkbox {
  margin-top: 2px;
  cursor: pointer;
}

.ignite-milestone-checkbox:disabled {
  cursor: not-allowed;
}

.ignite-milestone-content {
  flex: 1;
  color: var(--ignite-text);
  line-height: 1.5;
}

.ignite-milestone-content-completed {
  text-decoration: line-through;
  color: var(--ignite-text-muted);
}

/* === ACTION CARD COMPONENT === */
.ignite-action-card {
  display: flex;
  gap: var(--ignite-space-3);
  align-items: center;
  width: 100%;
  text-align: left;
  background-color: var(--ignite-bg-card);
  border: 1px solid var(--ignite-border);
  border-radius: var(--ignite-radius-md);
  padding: var(--ignite-space-4);
  transition: all var(--ignite-transition-fast);
  cursor: pointer;
}

.ignite-action-card:hover {
  background-color: var(--ignite-bg-hover);
  border-color: var(--ignite-accent);
}

.ignite-action-card-icon {
  font-size: 24px;
  flex-shrink: 0;
}

.ignite-action-card-content {
  flex: 1;
}

.ignite-action-card-title {
  margin: 0 0 var(--ignite-space-1) 0;
  font-size: var(--ignite-font-size-base);
  font-weight: 600;
  color: var(--ignite-text);
}

.ignite-action-card-description {
  margin: 0;
  font-size: var(--ignite-font-size-sm);
  color: var(--ignite-text-muted);
  line-height: 1.4;
}

/* === SCREEN LAYOUT === */
.ignite-screen {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

.ignite-screen-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--ignite-space-4);
  border-bottom: 1px solid var(--ignite-border);
  background-color: var(--ignite-bg);
}

.ignite-screen-title {
  margin: 0;
  font-size: var(--ignite-font-size-lg);
  font-weight: 600;
  color: var(--ignite-text);
}

.ignite-screen-content {
  flex: 1;
  overflow-y: auto;
  padding: var(--ignite-space-4);
}

/* === EMPTY STATE === */
.ignite-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--ignite-space-8);
  gap: var(--ignite-space-3);
}

.ignite-empty-state-icon {
  font-size: 48px;
  opacity: 0.6;
}

.ignite-empty-state-title {
  margin: 0;
  font-size: var(--ignite-font-size-lg);
  font-weight: 600;
  color: var(--ignite-text);
}

.ignite-empty-state-description {
  margin: 0;
  font-size: var(--ignite-font-size-base);
  color: var(--ignite-text-muted);
  max-width: 400px;
  line-height: 1.5;
}

/* === HOME SCREEN === */
.ignite-home-screen .ignite-screen-content {
  max-width: 800px;
  margin: 0 auto;
  width: 100%;
}

.ignite-goals-list {
  display: flex;
  flex-direction: column;
  gap: var(--ignite-space-4);
}

/* === GOAL DETAIL SCREEN === */
.ignite-goal-detail-screen .ignite-screen-content {
  max-width: 800px;
  margin: 0 auto;
  width: 100%;
}

.ignite-goal-detail-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--ignite-space-3);
  margin-bottom: var(--ignite-space-3);
}

.ignite-goal-detail-title {
  margin: 0;
  font-size: 24px;
  font-weight: 600;
  color: var(--ignite-text);
}

.ignite-goal-badge {
  padding: var(--ignite-space-1) var(--ignite-space-3);
  font-size: var(--ignite-font-size-sm);
  font-weight: 500;
  border-radius: var(--ignite-radius-sm);
}

.ignite-goal-badge-completed {
  background-color: var(--ignite-success);
  color: var(--ignite-text-on-accent);
}

.ignite-goal-detail-description {
  margin: 0 0 var(--ignite-space-4) 0;
  font-size: var(--ignite-font-size-base);
  color: var(--ignite-text);
  line-height: 1.6;
}

.ignite-goal-detail-meta {
  display: flex;
  gap: var(--ignite-space-6);
  margin-bottom: var(--ignite-space-6);
  padding: var(--ignite-space-3);
  background-color: var(--ignite-bg-card);
  border-radius: var(--ignite-radius-md);
  border: 1px solid var(--ignite-border);
}

.ignite-goal-detail-meta-item {
  font-size: var(--ignite-font-size-sm);
  color: var(--ignite-text-muted);
}

.ignite-goal-detail-meta-label {
  font-weight: 500;
  color: var(--ignite-text);
}

.ignite-goal-detail-section {
  margin-bottom: var(--ignite-space-6);
}

.ignite-goal-detail-section-title {
  margin: 0 0 var(--ignite-space-3) 0;
  font-size: var(--ignite-font-size-base);
  font-weight: 600;
  color: var(--ignite-text);
}

.ignite-goal-detail-actions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--ignite-space-3);
}

.ignite-goal-detail-notes-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: var(--ignite-space-2);
}

.ignite-goal-detail-notes-item {
  padding: var(--ignite-space-2) var(--ignite-space-3);
  background-color: var(--ignite-bg-card);
  border-radius: var(--ignite-radius-sm);
  border: 1px solid var(--ignite-border);
  font-size: var(--ignite-font-size-sm);
  color: var(--ignite-text);
  font-family: var(--font-monospace);
}
